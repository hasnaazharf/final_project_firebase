<!DOCTYPE html>
<!-- saved from url=(0061)https://www.chartjs.org/samples/latest/charts/line/basic.html -->
<html><script async="" src="./Line Chart_files/analytics.js"></script><script type="text/javascript" charset="utf-8" id="zm-extension" src="chrome-extension://fdcgdnkidjaadafnichfpabhfomcebme/scripts/webrtc-patch.js" async=""></script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Line Chart</title>
	<script src="./Line Chart_files/Chart.min.js"></script>
	<script src="./Line Chart_files/utils.js"></script>
	<style>
	canvas{
		-moz-user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}
	</style>
<style type="text/css">/* Chart.js */
@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}</style></head>

<body data-gr-c-s-loaded="true">
	<div style="width:100%;"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
		<canvas id="pir_canvas" style="display: block; height: 474px; width: 474px;" width="1896" height="948" class="chartjs-render-monitor"></canvas>
	</div>
	<div style="width:100%;"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
		<canvas id="energy_canvas" style="display: block; height: 474px; width: 474px;" width="1896" height="948" class="chartjs-render-monitor"></canvas>
	</div>
	<br>
	<br>
	<button id="randomizeData">Randomize Data</button>
	<button id="addDataset">Add Dataset</button>
	<button id="removeDataset">Remove Dataset</button>
	<button id="addData">Add Data</button>
	<button id="removeData">Remove Data</button>
	<script src="https://code.jquery.com/jquery-3.5.0.min.js"></script>
	<script>

		var pir_data = []
		var pir_labels = []
		var energy_data = []
		let base_url = "https://us-central1-energy-monitoring-6c8ab.cloudfunctions.net/app"

		$(document).ready(function(){
			$.get( base_url + "/api/log", function( data ) {
				chart_data = {
					label : [],
					value : []
				}
				data.forEach(element => {
					val = { 
						t : element.created_at._seconds,
						y : element.value,
					}
					chart_data.value.push(element.value)
					chart_data.label.push(element.created_at_str)
				});

				draw_chart("pir_canvas",chart_data)
			});

			$.get( base_url + "/api/energy_log", function( data ) {
				chart_data = {
					label : [],
					value : []
				}
				data.forEach(element => {
					val = { 
						t : element.created_at._seconds,
						y : element.value,
					}
					chart_data.value.push(element.value)
					chart_data.label.push(element.created_at_str)
				});

				draw_chart("energy_canvas",chart_data)
			});
		})


	function draw_chart(id,data){

		var config = {
			type: 'line',
			data: {
				labels: data.label,
				datasets: [{
					label: 'PIR Sensor',
					backgroundColor: window.chartColors.red,
					borderColor: window.chartColors.red,
					data: data.value,
					fill: false
				}]
			}
		};

		var ctx = document.getElementById(id).getContext('2d');
		window.myLine = new Chart(ctx, config);
	}



		// function add_dataset(){
		// 	var colorName = colorNames[config.data.datasets.length % colorNames.length];
		// 			var newColor = window.chartColors[colorName];
		// 			var newDataset = {
		// 				label: 'Dataset ' + config.data.datasets.length,
		// 				backgroundColor: newColor,
		// 				borderColor: newColor,
		// 				data: [],
		// 				fill: false
		// 			};

		// 			for (var index = 0; index < config.data.labels.length; ++index) {
		// 				newDataset.data.push(randomScalingFactor());
		// 			}

		// 			config.data.datasets.push(newDataset);
		// 			window.myLine.update();
		// }
	</script>



<script src="./Line Chart_files/cnxkcg=="></script></body></html>